<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>

		.bg {
			background-color: rgba(0, 0, 0, .2);
		}

		ul {
			padding: 0;
			list-style: none;
		}

		a {
			text-decoration: none;
		}

		input {
			outline: none;
		}

		body,
		h1,
		h2 {
			margin: 0;
		}

		h1 {
			margin: 0;
			font-weight: 400;
			text-align: center;
		}

		.login_mod h1 a {
			color: black;
		}

		.login {
			display: none;
		}

		.login ul {
			position: relative;
			/*margin: 100px auto;*/
			top: 50%;
			left: 50%;
			transform: translate(-50%, 50%);
			width: 550px;
			height: 300px;
			/*border-radius: 20px;*/
			box-shadow: 5px 10px 10px rgba(0, 0, 0, .3);
			background-color: #fff;
		}

		.login .close {
			position: absolute;
			top: -21px;
			right: -23px;
			content: "关闭";
			width: 50px;
			height: 50px;
			line-height: 50px;
			text-align: center;
			border-radius: 25px;
			border: 1px solid #ccc;
			background-color: #fff;
		}

		.login li label {
			display: inline-block;
			width: 100px;
			text-align: right;
		}

		.login li h2 {
			padding: 20px 0 5px;
			margin-bottom: 20px;
			text-align: center;
			font-weight: 400;
		}

		.login li h2:hover {
			cursor: crosshair;
		}


		.login .inp {
			margin-bottom: 20px;
			width: 360px;
			height: 30px
		}

		.login li input[type="submit"] {
			display: block;
			margin: 25px auto;
			width: 290px;
			height: 40px;
			background-color: #fff;
			border: 1px solid #ccc;
		}
	</style>
	<script>
		window.addEventListener("load", function () {
			const loginMod = document.querySelector(".login_mod");
			const login = document.querySelector(".login");
			const aElem = login.previousElementSibling.firstElementChild;
			const ul = login.firstElementChild.children[0];
			const close = ul.children[0];
			const title = ul.children[1];
			const body = document.body;
			aElem.addEventListener("click", function () {
				login.style.display = "block";
				body.setAttribute("class", "bg");
			})
			close.addEventListener("click", function () {
				login.style.display = "none";
				body.setAttribute("class", "");
			})
			// title.addEventListener("mousemove", function (e) {
			//
			// })
			title.addEventListener("mousedown", function (e) {
				let currentX = (e.pageX - ul.offsetLeft);
				let currentY = (e.pageY - ul.offsetTop);

				function move(e) {
					currentY = e.pageY - currentY;
					currentX = e.pageX - currentX;
					console.log(`x:${currentX},y:${currentY}`)
					ul.style.top = currentY + "px";
					ul.style.left = currentX + "px";
				}

				document.addEventListener("mousemove", move);
				document.addEventListener("mouseup", function () {
					console.log("+++++++++++++++++++++++mouseup")
					document.removeEventListener("mousemove", move);
				})
			})
		})
	</script>
</head>
<body>
	<div class="login_mod">
		<h1><a href="#">点击，弹出登录框</a></h1>
		<div class="login">
			<form action="">
				<ul>
					<span class="close">关闭</span>
					<li>
						<h2>登录会员</h2>
					</li>
					<li>
						<label for="">用户名：</label>
						<input class="inp" type="text">
					</li>
					<li>
						<label for="">密码：</label>
						<input class="inp" type="password">
					</li>
					<li>
						<input type="submit">
					</li>
				</ul>
			</form>
		</div>
	</div>
</body>
</html>